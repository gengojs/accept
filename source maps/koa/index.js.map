{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;kBAIe,UAAC,GAAG,EAAK;AACtB,cAAY,CAAC;;AACb,MAAI,OAAO,GAAG,CACZ,mBAAmB,EACnB,WAAW,EACX,eAAe,EACf,cAAc,EACd,eAAe,EACf,kBAAkB,EAClB,eAAe,EACf,YAAY,EACZ,cAAc,EACd,aAAa,CACd,CAAC;AACF,SAAO,qBAAQ,OAAO,yBAAC,iBAAU,IAAI;;;QAC/B,CAAC;;;;AAAD,WAAC,GAAG,gBAAO,IAAI,EAAE,GAAG,CAAC;;AACzB,2BAAE,OAAO,CAAC,OAAO,EAAE,UAAC,MAAM,EAAK;AAC7B,kBAAK,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;WACzC,CAAC,CAAC;AACH,cAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,gBAAO,IAAI,EAAE,GAAG,CAAC,CAAC;;iBACzD,IAAI;;;;;;;GACX,GAAE,UAAS,IAAI,EAAE,IAAI,EAAE;AACtB,QAAI,CAAC,GAAG,gBAAO,IAAI,EAAE,GAAG,CAAC,CAAC;AAC1B,qBAAE,OAAO,CAAC,OAAO,EAAE,UAAC,MAAM,EAAK;AAC7B,UAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;KACzC,CAAC,CAAC;AACH,QAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,gBAAO,IAAI,EAAE,GAAG,CAAC,CAAC;AAC/D,WAAO,IAAI,EAAE,CAAC;GACf,CAAC,CAAC;CACJ","file":"koa/index.js","sourcesContent":["import accept from '../';\nimport _ from 'lodash';\nimport convert from 'koa-convert';\nimport 'babel-polyfill';\nexport default (opt) => {\n  'use strict';\n  var methods = [\n    'getAcceptLanguage',\n    'getLocale',\n    'getFromHeader',\n    'getFromQuery',\n    'getFromDomain',\n    'getFromSubdomain',\n    'getFromCookie',\n    'getFromUrl',\n    'detectLocale',\n    'isSupported'\n  ];\n  return convert.compose(function*(next) {\n    var a = accept(this, opt);\n    _.forEach(methods, (method) => {\n      this.accept[method] = a[method].bind(a);\n    });\n    this.request.accept = this.response.accept = accept(this, opt);\n    yield next;\n  }, function(self, next) {\n    var a = accept(self, opt);\n    _.forEach(methods, (method) => {\n      self.accept[method] = a[method].bind(a);\n    });\n    self.request.accept = self.response.accept = accept(self, opt);\n    return next();\n  });\n};"],"sourceRoot":"/source/"}